========================================
Report Mark II - Version 1.1.18
Release Date: 2025-12-12
========================================

## Critical Fixes

### Report Generation 500 Error [FIXED]
- **Issue**: Database type mismatch for `customer_id` field
  - Database expected INT, frontend sent string
  - Error: "Incorrect integer value for column `reports`.`customer_id`"
- **Solution**: Added parsing logic in `src/routes/reports.js`
  - Converts string input to integer
  - Falls back to NULL for non-numeric or empty values
  - Maintains backward compatibility

### Missing Customer ID Input [FIXED]
- **Issue**: No input field for customer identification during report creation
- **Solution**: Added "Müşteri ID (opsiyonel)" input field in report form
  - Located in `frontend/src/App.jsx`
  - Allows users to specify customer name or ID
  - Optional field (can be left blank)

## Enhancements

### Error Handling & Debugging
1. **React ErrorBoundary**
   - Catches and displays render errors instead of blank white screen
   - Shows error message and stack trace
   - Provides "Reload Page" button for recovery

2. **Debug Console**
   - On-screen debug log at bottom of page
   - Tracks PDF loading, template selection, and errors
   - Green/black terminal-style UI
   - Helps diagnose issues in real-time

3. **PDF Service Robustness**
   - Added defensive checks for invalid field data
   - Skips fields missing x/y coordinates
   - Prevents crashes from malformed `field_map_json`
   - Console warnings for skipped fields

### Code Quality
- Fixed function name mismatch: `handleCreateReport` → `handleReportCreate`
- Removed duplicate code blocks from ErrorBoundary integration
- Cleaned up leftover comments from debugging sessions

## Technical Details

### Modified Files
- `frontend/src/App.jsx`: Added customer_id input, ErrorBoundary, Debug Console
- `src/routes/reports.js`: customer_id type conversion logic
- `src/services/pdfService.js`: Enhanced field validation
- `frontend/src/components/PDFCanvas.jsx`: Error callback support

### Database Schema
- `reports.customer_id`: INT NULL
- Now properly handles both numeric IDs and NULL values

## Known Issues
None at this time.

## Next Steps
- Phase 2: Authentication & User Management
- Implement login with Username OR User ID
- Add custom_id field to users table
